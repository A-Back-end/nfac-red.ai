# üé® –°–∏—Å—Ç–µ–º–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ç–µ–º—ã –∏ —è–∑—ã–∫–∞ RED AI

## –û–±–∑–æ—Ä

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ç–µ–º—ã –∏ —è–∑—ã–∫–∞ –º–µ–∂–¥—É —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ HTML —Ñ–∞–π–ª–∞–º–∏ –∏ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏. –°–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

- ‚úÖ **–ï–¥–∏–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ** —Ç–µ–º—ã –∏ —è–∑—ã–∫–∞ –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** –º–µ–∂–¥—É landing page –∏ –¥–∞—à–±–æ—Ä–¥–æ–º
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫** –≤ localStorage
- ‚úÖ **–î–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

1. **`lib/theme-sync.ts`** - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
2. **`lib/store.ts`** - Zustand store (–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å theme-sync)
3. **`lib/theme-context.tsx`** - React Context (–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å theme-sync)
4. **HTML —Ñ–∞–π–ª—ã** - –ò—Å–ø–æ–ª—å–∑—É—é—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
Landing Page (HTML) ‚Üê‚Üí [Global Events] ‚Üê‚Üí React Components
                    ‚Üì
                localStorage
                    ‚Üë
            Global Theme Sync
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö HTML —Ñ–∞–π–ª–∞—Ö

```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
window.addEventListener('load', () => {
  initGlobalSync();
  console.log('üé® Landing page theme sync initialized');
});

// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
function toggleTheme() {
  const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
  // ... –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ ...
  
  // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  window.dispatchEvent(new CustomEvent('redai-theme-change', {
    detail: { theme: newTheme }
  }));
}
```

### –í React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

```typescript
import { useAppStore } from '@/lib/store'
import { useTheme } from '@/lib/theme-context'
import { initThemeSync } from '@/lib/theme-sync'

// Zustand store
const { theme, language, setTheme, setLanguage } = useAppStore()

// Theme Context
const { theme, language, toggleTheme, toggleLanguage } = useTheme()

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
useEffect(() => {
  initThemeSync()
}, [])
```

## –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### `lib/theme-sync.ts`

```typescript
// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
getSavedTheme(): Theme
getSavedLanguage(): Language

// –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
setGlobalTheme(theme: Theme): void
setGlobalLanguage(language: Language): void

// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
toggleGlobalTheme(): Theme
toggleGlobalLanguage(): Language

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
initThemeSync(): void
```

## –°–æ–±—ã—Ç–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

- **`redai-theme-change`** - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º—ã
- **`redai-language-change`** - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —è–∑—ã–∫–∞

```typescript
// –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏—è
window.dispatchEvent(new CustomEvent('redai-theme-change', {
  detail: { theme: 'dark' }
}))

// –ü—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
window.addEventListener('redai-theme-change', (event) => {
  const newTheme = event.detail.theme
  // –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
})
```

## –§–∞–π–ª—ã, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å —Å–∏—Å—Ç–µ–º–æ–π

### ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **`public/index.html`** - Landing page —Å –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
2. **`app/login/page.tsx`** - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ–≥–∏–Ω–∞
3. **`app/auth/page.tsx`** - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
4. **`app/layout.tsx`** - Root layout —Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π
5. **`lib/store.ts`** - Zustand store —Å –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
6. **`lib/theme-context.tsx`** - React Context —Å –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
7. **`components/dashboard/AuthenticatedDashboard.tsx`** - –î–∞—à–±–æ—Ä–¥

### –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤—ã–∑—ã–≤–∞—é—Ç `initThemeSync()`
2. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É—é—Ç `setGlobalTheme()` –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ DOM
3. **–ó–∞–≥—Ä—É–∑–∫–∞**: –ò—Å–ø–æ–ª—å–∑—É—é—Ç `getSavedTheme()` –∏ `getSavedLanguage()`
4. **–°–æ–±—ã—Ç–∏—è**: –°–ª—É—à–∞—é—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## –ü—Ä–∏–º–µ—Ä workflow

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç landing page** (`public/index.html`)
   - –¢–µ–º–∞: —Å–≤–µ—Ç–ª–∞—è, —è–∑—ã–∫: –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
   
2. **–ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–≥–∏–Ω–∞** (`/login`)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è: —Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ + –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
   
3. **–í—Ö–æ–¥–∏—Ç –≤ –¥–∞—à–±–æ—Ä–¥** (`/dashboard`)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è: —Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ + –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫
   - –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

4. **–ú–µ–Ω—è–µ—Ç —Ç–µ–º—É –≤ –¥–∞—à–±–æ—Ä–¥–µ**
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ –≤—Å–µ —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –ü—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –Ω–∞ landing page - —Ç–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–Ω–æ–π

## –û—Ç–ª–∞–¥–∫–∞

–°–∏—Å—Ç–µ–º–∞ –≤—ã–≤–æ–¥–∏—Ç –ª–æ–≥-—Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:

```
üé® Theme Sync initialized: { theme: 'dark', language: 'en' }
üé® Landing page theme sync initialized
üé® Root layout theme sync initialized: { theme: 'dark', language: 'en' }
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### localStorage –∫–ª—é—á–∏
- `theme` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–º—ã ('light' | 'dark')  
- `language` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —è–∑—ã–∫–∞ ('en' | 'ru')

### DOM –∞—Ç—Ä–∏–±—É—Ç—ã
- `document.documentElement.classList` - –∫–ª–∞—Å—Å—ã —Ç–µ–º—ã ('dark', 'light')
- `document.body.data-theme` - –∞—Ç—Ä–∏–±—É—Ç —Ç–µ–º—ã –¥–ª—è CSS
- `document.documentElement.lang` - —è–∑—ã–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞

### –°–æ–±—ã—Ç–∏—è
- **–ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è**: –°–æ–±—ã—Ç–∏—è –Ω–µ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö
- **–î–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç—å**: HTML ‚Üî React —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- **–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ**: –û–¥–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ú–∏–Ω–∏–º—É–º DOM –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π
3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
4. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
5. **–û—Ç–ª–∞–¥–∫–∞**: –ß–µ—Ç–∫–∏–µ –ª–æ–≥-—Å–æ–æ–±—â–µ–Ω–∏—è –∏ —Å–æ–±—ã—Ç–∏—è

---

*–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é* 