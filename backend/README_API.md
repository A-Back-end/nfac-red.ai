# RED AI API - –î—ç—à–±–æ—Ä–¥ AI RED

## –ù–æ–≤—ã–µ API Endpoints –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –¥—ç—à–±–æ—Ä–¥–∞

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥—ç—à–±–æ—Ä–¥–∞

**GET /api/dashboard/stats**
- –ü–æ–ª—É—á–∏—Ç—å –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–ª—è –¥—ç—à–±–æ—Ä–¥–∞
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∏–∑–∞–π–Ω–æ–≤, –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤, –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á

```json
{
  "total_designs": 10,
  "active_projects": 3,
  "favorite_clients": 5,
  "daily_tasks_completed": 2,
  "weekly_interactions": 15
}
```

### ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏

**GET /api/dashboard/tasks**
- –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞—á

**POST /api/dashboard/tasks**
- –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É
```json
{
  "title": "–ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤–∫—É –∫–≤–∞—Ä—Ç–∏—Ä—ã",
  "description": "–ê–Ω–∞–ª–∏–∑ 3-–∫–æ–º–Ω–∞—Ç–Ω–æ–π –∫–≤–∞—Ä—Ç–∏—Ä—ã –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞",
  "target_date": "2024-01-15T10:00:00Z"
}
```

**PUT /api/dashboard/tasks/{task_id}**
- –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏
```json
{
  "is_completed": true
}
```

**DELETE /api/dashboard/tasks/{task_id}**
- –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É

### üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏

**GET /api/dashboard/clients**
- –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤

**POST /api/dashboard/clients**
- –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
```json
{
  "name": "–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞",
  "email": "anna@example.com",
  "phone": "+7(905)123-45-67",
  "tags": ["VIP", "–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç"]
}
```

**DELETE /api/dashboard/clients/{client_id}**
- –£–±—Ä–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ

### üé® –ü—Ä–µ–≤—å—é –¥–∏–∑–∞–π–Ω–æ–≤

**GET /api/dashboard/designs**
- –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–≤—å—é –¥–∏–∑–∞–π–Ω–æ–≤

**POST /api/dashboard/designs/{design_id}/favorite**
- –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –¥–ª—è –¥–∏–∑–∞–π–Ω–∞

### üìù –ò—Å—Ç–æ—Ä–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π

**GET /api/dashboard/interactions**
- –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏

**POST /api/dashboard/interactions**
- –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
```json
{
  "client_id": "client_1",
  "action_type": "design_generated",
  "description": "–°–æ–∑–¥–∞–Ω –¥–∏–∑–∞–π–Ω —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –≥–æ—Å—Ç–∏–Ω–æ–π",
  "details": {"room_type": "–≥–æ—Å—Ç–∏–Ω–∞—è", "style": "—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π"}
}
```

### üí° –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–∏–∑–∞–π–Ω–∞

**GET /api/dashboard/suggestions**
- –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –º–µ–±–µ–ª–∏, –¥–µ–∫–æ—Ä–∞ –∏ —Ü–≤–µ—Ç–æ–≤—ã—Ö —Å—Ö–µ–º

```json
{
  "furniture": [
    {"name": "–î–∏–≤–∞–Ω-–∫—Ä–æ–≤–∞—Ç—å", "category": "–º–µ–±–µ–ª—å", "price_range": "30000-80000"}
  ],
  "decor": [
    {"name": "–ù–∞—Å—Ç–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–∏–Ω—ã", "category": "–¥–µ–∫–æ—Ä", "price_range": "5000-20000"}
  ],
  "color_schemes": [
    {"name": "–°–∫–∞–Ω–¥–∏–Ω–∞–≤—Å–∫–∏–π", "colors": ["#FFFFFF", "#F5F5F5", "#E8E8E8", "#8B9DC3"]}
  ]
}
```

## –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### DailyTask
- `id`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `title`: –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–¥–∞—á–∏
- `description`: –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
- `is_completed`: –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `created_at`: –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `target_date`: –¶–µ–ª–µ–≤–∞—è –¥–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### FavoriteClient
- `id`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `name`: –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞
- `email`: Email
- `phone`: –¢–µ–ª–µ—Ñ–æ–Ω
- `projects_count`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–µ–∫—Ç–æ–≤
- `last_interaction`: –ü–æ—Å–ª–µ–¥–Ω–µ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
- `tags`: –¢–µ–≥–∏ –∫–ª–∏–µ–Ω—Ç–∞

### DesignPreview
- `id`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `title`: –ù–∞–∑–≤–∞–Ω–∏–µ –¥–∏–∑–∞–π–Ω–∞
- `room_type`: –¢–∏–ø –ø–æ–º–µ—â–µ–Ω–∏—è
- `style`: –°—Ç–∏–ª—å –¥–∏–∑–∞–π–Ω–∞
- `image_url`: URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `created_at`: –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `client_id`: ID –∫–ª–∏–µ–Ω—Ç–∞
- `is_favorite`: –°—Ç–∞—Ç—É—Å –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ

### InteractionHistory
- `id`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `client_id`: ID –∫–ª–∏–µ–Ω—Ç–∞
- `action_type`: –¢–∏–ø –¥–µ–π—Å—Ç–≤–∏—è
- `description`: –û–ø–∏—Å–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è
- `details`: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏
- `timestamp`: –í—Ä–µ–º—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

## –°—Ç–∏–ª—å –¥–∏–∑–∞–π–Ω–∞

–í —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –ø—Ä–æ–µ–∫—Ç–∞:
- üé® **–î–∏–∑–∞–π–Ω**: –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π
- üé® **–¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞**: –ø—Ä–∏–≥–ª—É—à—ë–Ω–Ω—ã–µ —Å–∏–Ω–∏–µ –∏ —Å–µ—Ä—ã–µ —Ç–æ–Ω–∞
- üé® **–ò–∫–æ–Ω–∫–∏**: —á–∏—Å—Ç—ã–µ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ, –≤ —Å—Ç–∏–ª–µ iOS/Material

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ backend —Å–µ—Ä–≤–µ—Ä:
```bash
cd backend
python main.py
```

2. API –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8000`

3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Swagger UI: `http://localhost:8000/api/docs`

4. –í—Å–µ endpoints –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç CORS –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÖ –í—Å–µ endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç JSON
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ async/await –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é Pydantic
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –∞–≤—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ Mock –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

## Azure OpenAI (GPT-4.1) —á–µ—Ä–µ–∑ Entra ID (Azure AD)

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ö—Ä–∞–Ω–∏—Ç—å –∫–ª—é—á–∏ —Ç–æ–ª—å–∫–æ –≤ .env, –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å –∏—Ö –≤ git!**

### –ü—Ä–∏–º–µ—Ä –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Entra ID (Azure Active Directory)

```python
from openai import AzureOpenAI
from azure.identity import DefaultAzureCredential, get_bearer_token_provider

token_provider = get_bearer_token_provider(
    DefaultAzureCredential(),
    "https://cognitiveservices.azure.com/.default"
)
client = AzureOpenAI(
    api_version="2025-01-01-preview",
    azure_endpoint="https://neuroflow-hub.openai.azure.com",
    azure_ad_token_provider=token_provider
)
response = client.chat.completions.create(
    model="gpt-4.1",
    messages=[{"role": "user", "content": "–ü—Ä–∏–≤–µ—Ç!"}],
    max_tokens=100
)
print(response.choices[0].message.content)
```

- –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (endpoint, deployment, api-version, –∫–ª—é—á) –±–µ—Ä—É—Ç—Å—è –∏–∑ `.env`.
- –î–ª—è Dashboard –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ—Ä–≤–∏—Å `AzureOpenAIService` (—Å–º. `azure_openai_service.py`).
- –î–ª—è production ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –Ω–µ —Ö—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á–∏ –≤ –∫–æ–¥–µ! 